# Portals Gifts ‚Äî Telegram Mini App

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–¥–∞—Ä–∫–æ–≤, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram –∫–∞–∫ Mini App.

## –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Pages

1. **–í–∫–ª—é—á–∏—Ç–µ GitHub Pages** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
   - Settings ‚Üí Pages ‚Üí **Source**: **GitHub Actions**

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π**:
   - –ü—Ä–∏ –ø—É—à–µ –≤ –≤–µ—Ç–∫—É `main` –∏–ª–∏ `master` workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç miniapp.
   - –ò–ª–∏ –≤—Ä—É—á–Ω—É—é: Actions ‚Üí "Deploy Mini App to GitHub Pages" ‚Üí Run workflow.

3. **URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –±—É–¥–µ—Ç —Ç–∞–∫–∏–º:
   ```
   https://<USERNAME>.github.io/<REPO>/
   ```
   –ù–∞–ø—Ä–∏–º–µ—Ä: `https://mtvej.github.io/portals_gifts_bot/`

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–æ—Ç—É

–í `.env` –±–æ—Ç–∞ —É–∫–∞–∂–∏—Ç–µ URL Mini App (–±–µ–∑ —Å–ª—ç—à–∞ –≤ –∫–æ–Ω—Ü–µ):

```env
MINIAPP_URL=https://YOUR_USERNAME.github.io/portals_gifts_bot
```

–í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –±–æ—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ **¬´üì± –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∞—Ä–∫–æ–≤¬ª**, –æ—Ç–∫—Ä—ã–≤–∞—é—â–∞—è Mini App.

## –ë—ç–∫–µ–Ω–¥ API

Mini App –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ API GUI (Flask-—Å–µ—Ä–≤–µ—Ä –∏–∑ –ø–∞–ø–∫–∏ `gui/`):

- **–ï—Å–ª–∏ miniapp –∏ API –Ω–∞ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ** ‚Äî –Ω–∏—á–µ–≥–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ (API_BASE –ø—É—Å—Ç–æ–π).
- **–ï—Å–ª–∏ miniapp –Ω–∞ GitHub Pages, –∞ API –Ω–∞ —Å–≤–æ—ë–º —Å–µ—Ä–≤–µ—Ä–µ** ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ Mini App —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `api`:
  ```
  https://YOUR_USER.github.io/portals_gifts_bot/?api=https://your-backend.com
  ```
  –õ–∏–±–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ BotFather Menu Button URL —Å —ç—Ç–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º.

–ë—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS –∏ –æ—Ç–¥–∞–≤–∞—Ç—å CORS (–≤ `gui/server.py` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ CORS).

## –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ GUI-—Å–µ—Ä–≤–µ—Ä: `python gui/server.py` (–ø–æ—Ä—Ç 5000).
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:5000/miniapp/index.html` –∏–ª–∏ —Ä–∞–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `miniapp/` –ª—é–±—ã–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `index.html`.
3. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ Telegram: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [@BotFather](https://t.me/BotFather) ‚Üí Bot Settings ‚Üí Menu Button ‚Üí Configure menu button ‚Üí —É–∫–∞–∂–∏—Ç–µ URL (–¥–ª—è —Ç–µ—Å—Ç–∞ –º–æ–∂–Ω–æ ngrok –Ω–∞ `miniapp/` –∏–ª–∏ –Ω–∞ –≤–µ—Å—å GUI).

## –§–∞–π–ª—ã

- `index.html` ‚Äî —Ä–∞–∑–º–µ—Ç–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram Web App SDK.
- `app.js` ‚Äî –ª–æ–≥–∏–∫–∞: API_BASE –∏–∑ `?api=`, —Ç–µ–º–∞ Telegram, –∑–∞–ø—Ä–æ—Å—ã –∫ API.
- `style.css` ‚Äî —Å—Ç–∏–ª–∏ (–∫–æ–ø–∏—è –∏–∑ `gui/static/`).
