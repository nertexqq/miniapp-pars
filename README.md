# Portals Gifts Bot

Telegram –±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞—Ö (Portals, Tonnel, MRKT).

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ di.py               # Dependency Injection
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/         # –ú–∏–¥–¥–ª–≤–∞—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ handlers/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/          # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ repositories/       # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
‚îÇ   ‚îú‚îÄ‚îÄ models/             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ tasks/              # –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
‚îú‚îÄ‚îÄ tests/                  # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ migrations/             # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îî‚îÄ‚îÄ docker/                 # Docker —Ñ–∞–π–ª—ã
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª (—Å–º. `.env.example`)

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
python -m src.bot.main
```

## Docker

```bash
docker-compose up -d
```

## Telegram Mini App (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∞—Ä–∫–æ–≤)

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–¥–∞—Ä–∫–æ–≤ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∫–∞–∫ **Mini App** –ø—Ä—è–º–æ –≤ Telegram.

1. **–î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages**  
   –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: Settings ‚Üí Pages ‚Üí Source: **GitHub Actions**.  
   –ü—Ä–∏ –ø—É—à–µ –≤ `main` workflow –∏–∑ `.github/workflows/deploy-miniapp.yml` –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø–∞–ø–∫—É `miniapp/`.

2. **URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**  
   `https://<USERNAME>.github.io/<REPO>/`

3. **–ö–Ω–æ–ø–∫–∞ –≤ –±–æ—Ç–µ**  
   –í `.env` –∑–∞–¥–∞–π—Ç–µ `MINIAPP_URL=https://...` (URL –±–µ–∑ —Å–ª—ç—à–∞ –≤ –∫–æ–Ω—Ü–µ).  
   –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ ¬´üì± –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–∞—Ä–∫–æ–≤¬ª.

**–ü–æ—à–∞–≥–æ–≤—ã–π –≥–∞–π–¥ ¬´–¥–ª—è —á–∞–π–Ω–∏–∫–æ–≤¬ª:** [MINIAPP_SETUP_GUIDE.md](MINIAPP_SETUP_GUIDE.md).  
–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ —Ñ–∞–π–ª–∞–º: [miniapp/README.md](miniapp/README.md).

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ Dependency Injection
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (LRU + Redis)
- ‚úÖ Connection pooling –¥–ª—è –ë–î
- ‚úÖ Rate limiting
- ‚úÖ Graceful shutdown
- ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è (type hints)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (Pydantic)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
"# miniapp-pars" 
