# Настройка API Portals

## Проблема с аутентификацией

Если вы получаете ошибку "Ошибка аутентификации в API", это может быть связано с:

1. **Неправильный API endpoint** - домен `portals-market.com` может быть недоступен или изменен
2. **Неправильные API_ID и API_HASH** - проверьте, что они получены с https://my.telegram.org/apps
3. **Изменение метода аутентификации** - API может требовать другой метод авторизации

## Решения

### Вариант 1: Проверьте правильный API endpoint

Возможно, нужно использовать другой URL. Попробуйте установить переменную окружения:

```bash
PORTALS_API_URL=https://api.portals.fi
```

Или отредактируйте `.env` файл, добавив:
```
PORTALS_API_URL=https://api.portals.fi
```

### Вариант 2: Используйте API ключ вместо Telegram credentials

Если Portals API требует API ключ (как показано в документации), вам нужно:

1. Зарегистрироваться на https://portals.fi
2. Получить API ключ
3. Изменить метод аутентификации в `portalsmp.py`

### Вариант 3: Проверьте исходный код

Если у вас есть рабочий код, который использует другой метод аутентификации, предоставьте его для адаптации.

## Текущая реализация

Сейчас код пытается аутентифицироваться через:
- Endpoint: `/auth`
- Method: POST
- Body: `{"api_id": ..., "api_hash": ...}`

Возможно, реальный API требует другой формат или endpoint.

## Тестирование

Запустите тестовый скрипт для диагностики:

```bash
python test_api.py
```

Это покажет подробную информацию об ошибках подключения.
